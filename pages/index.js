import Head from "next/head";
import React, { useState } from 'react';
import dynamic from 'next/dynamic';
import Ver1 from '../components/ver1';
import Ver5_n1 from '../components/ver5/n1';
import Ver5_n2 from '../components/ver5/n2';
import Ver5_n3 from '../components/ver5/n3';
import Ver5_n4 from '../components/ver5/n4';
import Ver5_n5 from '../components/ver5/n5';
import Ver6_1 from '../components/ver6/1';
import Ver6_1_2 from '../components/ver6/1-2';
import Ver6_2 from '../components/ver6/2';
import Ver6_2_2 from '../components/ver6/2-2';
import Ver6_3 from '../components/ver6/3';
import Ver6_3_2 from '../components/ver6/3-2';
const Ver7_D1 = dynamic(() => import('../components/ver7/d1'), { ssr: false });
const Ver7_D2 = dynamic(() => import('../components/ver7/d2'), { ssr: false });
const Ver7_D3 = dynamic(() => import('../components/ver7/d3'), { ssr: false });
const Ver7_D4 = dynamic(() => import('../components/ver7/d4'), { ssr: false });
const Ver7_D5 = dynamic(() => import('../components/ver7/d5'), { ssr: false });
const Ver8_1 = dynamic(() => import('../components/ver8/1'), { ssr: false });
const Ver8_2 = dynamic(() => import('../components/ver8/2'), { ssr: false });
const Ver8_3 = dynamic(() => import('../components/ver8/3'), { ssr: false });
const Ver9_1 = dynamic(() => import('../components/ver9/1'), { ssr: false });
const Ver9_2 = dynamic(() => import('../components/ver9/2'), { ssr: false });
const Ver9_3 = dynamic(() => import('../components/ver9/3'), { ssr: false });

export default function Home() {
  const [selectedVersion, setSelectedVersion] = useState(null);
  const [selectedVer5Component, setSelectedVer5Component] = useState(null);
  const [selectedVer6Component, setSelectedVer6Component] = useState(null);
  const [selectedVer7Component, setSelectedVer7Component] = useState(null);
  const [selectedVer8Component, setSelectedVer8Component] = useState(null);
  const [selectedVer9Component, setSelectedVer9Component] = useState(null);

  const renderContent = () => {
    if (selectedVersion === 'ver1') {
      return <Ver1 />;
    } else if (selectedVersion === 'ver5') {
      switch (selectedVer5Component) {
        case 'n1':
          return <Ver5_n1 />;
        case 'n2':
          return <Ver5_n2 />;
        case 'n3':
          return <Ver5_n3 />;
        case 'n4':
          return <Ver5_n4 />;
        case 'n5':
          return <Ver5_n5 />;
        default:
          return <div>Select a Ver5 component to display.</div>;
      }
    } else if (selectedVersion === 'ver6') {
      switch (selectedVer6Component) {
        case 'ver6_1':
          return <Ver6_1 />;
        case 'ver6_1-2':
          return <Ver6_1_2 />;
        case 'ver6_2':
          return <Ver6_2 />;
        case 'ver6_2-2':
          return <Ver6_2_2 />;
        case 'ver6_3':
          return <Ver6_3 />;
        case 'ver6_3-2':
          return <Ver6_3_2 />;
        default:
          return <div>Select a Ver6 component to display.</div>;
      }
    } else if (selectedVersion === 'ver7') {
      switch (selectedVer7Component) {
        case 'ver7_d1':
          return <Ver7_D1 />;
        case 'ver7_d2':
          return <Ver7_D2 />;
        case 'ver7_d3':
          return <Ver7_D3 />;
        case 'ver7_d4':
          return <Ver7_D4 />;
        case 'ver7_d5':
          return <Ver7_D5 />;
        default:
          return <div>Select a Ver7 component to display.</div>;
      }
    } else if (selectedVersion === 'ver8') {
      switch (selectedVer8Component) {
        case 'ver8_1':
          return <Ver8_1 />;
        case 'ver8_2':
          return <Ver8_2 />;
        case 'ver8_3':
          return <Ver8_3 />;
        default:
          return <div>Select a Ver8 component to display.</div>;
      }
    } else if (selectedVersion === 'ver9') {
      switch (selectedVer9Component) {
        case 'ver9_1':
          return <Ver9_1 />;
        case 'ver9_2':
          return <Ver9_2 />;
        case 'ver9_3':
          return <Ver9_3 />;
        default:
          return <div>Select a Ver9 component to display.</div>;
      }
    }
    return <div>Select a version to display.</div>;
  };

  const CircleButton = ({ label, active, onClick }) => (
    <button
      onClick={onClick}
      style={{
        width: 36,
        height: 36,
        borderRadius: '50%',
        border: 'none',
        cursor: 'pointer',
        fontSize: 13,
        backgroundColor: active ? '#0070f3' : '#f0f0f0',
        color: active ? 'white' : 'black',
        boxShadow: '0 2px 6px rgba(0,0,0,0.15)',
        opacity: active ? 0.95 : 0.8
      }}
    >
      {label}
    </button>
  );

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
      <main style={{ display: 'flex', height: '100vh', width: '100vw' }}>
        <div style={{ flexGrow: 1, display: 'flex', alignItems: 'center', justifyContent: 'center', position: 'relative' }}>
          {renderContent()}
          {/* Floating version buttons attached to interface (top-left) */}
          <div style={{ position: 'absolute', left: 10, top: 10, display: 'flex', flexDirection: 'column', gap: 8, zIndex: 5001 }}>
            <CircleButton label="V1" active={selectedVersion === 'ver1'} onClick={() => { setSelectedVersion('ver1'); setSelectedVer6Component(null); setSelectedVer7Component(null); setSelectedVer8Component(null); setSelectedVer9Component(null); }} />
            <CircleButton label="V5" active={selectedVersion === 'ver5'} onClick={() => { setSelectedVersion('ver5'); setSelectedVer6Component(null); setSelectedVer7Component(null); setSelectedVer8Component(null); setSelectedVer9Component(null); setSelectedVer5Component('n1'); }} />
            <CircleButton label="V6" active={selectedVersion === 'ver6'} onClick={() => { setSelectedVersion('ver6'); setSelectedVer5Component(null); setSelectedVer7Component(null); setSelectedVer8Component(null); setSelectedVer9Component(null); setSelectedVer6Component('ver6_1'); }} />
            <CircleButton label="V7" active={selectedVersion === 'ver7'} onClick={() => { setSelectedVersion('ver7'); setSelectedVer5Component(null); setSelectedVer6Component(null); setSelectedVer8Component(null); setSelectedVer9Component(null); setSelectedVer7Component('ver7_d1'); }} />
            <CircleButton label="V8" active={selectedVersion === 'ver8'} onClick={() => { setSelectedVersion('ver8'); setSelectedVer5Component(null); setSelectedVer6Component(null); setSelectedVer7Component(null); setSelectedVer9Component(null); setSelectedVer8Component('ver8_1'); }} />
            <CircleButton label="V9" active={selectedVersion === 'ver9'} onClick={() => { setSelectedVersion('ver9'); setSelectedVer5Component(null); setSelectedVer6Component(null); setSelectedVer7Component(null); setSelectedVer8Component(null); setSelectedVer9Component('ver9_1'); }} />
          </div>
          {selectedVersion === 'ver5' && (
            <div style={{ position: 'absolute', top: 6, left: '50%', transform: 'translateX(-50%)', display: 'flex', gap: 8, zIndex: 5000 }}>
              <CircleButton label="n1" active={selectedVer5Component === 'n1'} onClick={() => setSelectedVer5Component('n1')} />
              <CircleButton label="n2" active={selectedVer5Component === 'n2'} onClick={() => setSelectedVer5Component('n2')} />
              <CircleButton label="n3" active={selectedVer5Component === 'n3'} onClick={() => setSelectedVer5Component('n3')} />
              <CircleButton label="n4" active={selectedVer5Component === 'n4'} onClick={() => setSelectedVer5Component('n4')} />
              <CircleButton label="n5" active={selectedVer5Component === 'n5'} onClick={() => setSelectedVer5Component('n5')} />
            </div>
          )}
          {selectedVersion === 'ver6' && (
            <div style={{ position: 'absolute', top: 6, left: '50%', transform: 'translateX(-50%)', display: 'flex', gap: 8, zIndex: 5000 }}>
              <CircleButton label="1" active={selectedVer6Component === 'ver6_1'} onClick={() => setSelectedVer6Component('ver6_1')} />
              <CircleButton label="1-2" active={selectedVer6Component === 'ver6_1-2'} onClick={() => setSelectedVer6Component('ver6_1-2')} />
              <CircleButton label="2" active={selectedVer6Component === 'ver6_2'} onClick={() => setSelectedVer6Component('ver6_2')} />
              <CircleButton label="2-2" active={selectedVer6Component === 'ver6_2-2'} onClick={() => setSelectedVer6Component('ver6_2-2')} />
              <CircleButton label="3" active={selectedVer6Component === 'ver6_3'} onClick={() => setSelectedVer6Component('ver6_3')} />
              <CircleButton label="3-2" active={selectedVer6Component === 'ver6_3-2'} onClick={() => setSelectedVer6Component('ver6_3-2')} />
            </div>
          )}
          {selectedVersion === 'ver7' && (
            <div style={{ position: 'absolute', top: 6, left: '50%', transform: 'translateX(-50%)', display: 'flex', gap: 8, zIndex: 5000 }}>
              <CircleButton label="d1" active={selectedVer7Component === 'ver7_d1'} onClick={() => setSelectedVer7Component('ver7_d1')} />
              <CircleButton label="d2" active={selectedVer7Component === 'ver7_d2'} onClick={() => setSelectedVer7Component('ver7_d2')} />
              <CircleButton label="d3" active={selectedVer7Component === 'ver7_d3'} onClick={() => setSelectedVer7Component('ver7_d3')} />
              <CircleButton label="d4" active={selectedVer7Component === 'ver7_d4'} onClick={() => setSelectedVer7Component('ver7_d4')} />
              <CircleButton label="d5" active={selectedVer7Component === 'ver7_d5'} onClick={() => setSelectedVer7Component('ver7_d5')} />
            </div>
          )}
          {selectedVersion === 'ver8' && (
            <div style={{ position: 'absolute', top: 6, left: '50%', transform: 'translateX(-50%)', display: 'flex', gap: 8, zIndex: 5000 }}>
              <CircleButton label="1" active={selectedVer8Component === 'ver8_1'} onClick={() => setSelectedVer8Component('ver8_1')} />
              <CircleButton label="2" active={selectedVer8Component === 'ver8_2'} onClick={() => setSelectedVer8Component('ver8_2')} />
              <CircleButton label="3" active={selectedVer8Component === 'ver8_3'} onClick={() => setSelectedVer8Component('ver8_3')} />
            </div>
          )}
          {selectedVersion === 'ver9' && (
            <div style={{ position: 'absolute', top: 6, left: '50%', transform: 'translateX(-50%)', display: 'flex', gap: 8, zIndex: 5000 }}>
              <CircleButton label="1" active={selectedVer9Component === 'ver9_1'} onClick={() => setSelectedVer9Component('ver9_1')} />
              <CircleButton label="2" active={selectedVer9Component === 'ver9_2'} onClick={() => setSelectedVer9Component('ver9_2')} />
              <CircleButton label="3" active={selectedVer9Component === 'ver9_3'} onClick={() => setSelectedVer9Component('ver9_3')} />
            </div>
          )}
        </div>
      </main>
    </>
  );
}
